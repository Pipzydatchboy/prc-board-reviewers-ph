import{j as e,r as n,R as Q,a as T,f as I}from"./app-BGR1gGcy.js";import{L as O}from"./Layout-D0JQ7MI3.js";import z from"./breadcrumbs-Ih1IFlSH.js";const D=({currentQuestion:s,selectedChoice:t,onChoiceClick:d,onNext:l,formatElapsedTime:o,questionNumber:x,totalQuestions:b})=>e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold mb-4 text-green-700 antialiased",children:["ðŸ“‹ Question ",x," of ",b]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4 antialiased",children:["Elapsed Time: ",o]}),e.jsxs("div",{className:"p-6 bg-white border rounded-2xl shadow relative text-gray-800 antialiased",children:[e.jsx("p",{className:"font-semibold mb-4 text-lg leading-relaxed",children:s.question}),e.jsx("ul",{className:"space-y-2",children:s.choices.map((m,a)=>{let u="";return t&&(m===s.answer?u="bg-green-200 border-green-500":m===t&&(u="bg-red-200 border-red-500")),e.jsx("li",{children:e.jsx("button",{onClick:()=>d(m),disabled:!!t,className:`block w-full text-left p-3 border rounded text-gray-800 ${u} ${t?"":"hover:bg-gray-100"}`,children:m})},a)})}),t&&e.jsxs("div",{className:"mt-6 p-4 rounded border bg-gray-100 border-gray-300",children:[e.jsx("p",{className:"font-semibold mb-2",children:"Explanation:"}),e.jsx("p",{className:"italic leading-relaxed",children:s.explanation})]}),t&&e.jsx("button",{onClick:l,className:"mt-6 px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium",children:x<b?"Next Question":"Finish"})]})]}),F=({score:s,total:t,percentage:d,formatElapsedTime:l,passed:o,onRetake:x,onNextPart:b,userAnswers:m})=>{const[a,u]=n.useState(!1),h=()=>{u(!1),setTimeout(()=>window.print(),100)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4 text-green-700 antialiased",children:"âœ… Summary"}),e.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 space-y-1 text-gray-800 antialiased",children:[e.jsxs("p",{children:["Points: ",s," / ",t]}),e.jsxs("p",{children:["Percentage Score: ",d.toFixed(2),"%"]}),e.jsxs("p",{children:["Total Time: ",l]})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap gap-2 text-gray-800 antialiased",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition",children:"Retake"}),e.jsx("button",{onClick:b,disabled:!o,className:`px-4 py-2 rounded transition font-semibold text-white
              ${o?"bg-blue-500 hover:bg-blue-600":"bg-gray-300 cursor-not-allowed opacity-75"}`,children:"Next Part"}),e.jsx("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 transition",children:"Print"})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800 antialiased",children:"Review of Answers:"}),m.map((r,f)=>e.jsxs("div",{className:"p-4 border rounded mb-4 bg-white text-gray-800 antialiased",children:[e.jsx("p",{className:"font-semibold mb-2",children:`${f+1}. ${r.question}`}),e.jsx("ul",{className:"list-disc list-inside mb-2",children:r.choices.map((g,w)=>{const N=g===r.correct?"text-green-600":g===r.selected?"text-red-600":"text-gray-700";return e.jsx("li",{className:N,children:g},w)})}),e.jsxs("p",{className:"text-sm",children:["Your Answer:"," ",e.jsx("span",{className:r.selected===r.correct?"text-green-600":"text-red-600",children:r.selected})]}),e.jsxs("p",{className:"text-sm",children:["Correct Answer:"," ",e.jsx("span",{className:"text-green-600",children:r.correct})]}),e.jsx("p",{className:"text-sm italic mt-1",children:r.explanation})]},f))]})]}),a&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 print:hidden",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full text-center text-gray-800 antialiased",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Support Our Site"}),e.jsx("p",{className:"mb-4",children:"If you find this site helpful, you can donate any amount by scanning the Gcash QR code below."}),e.jsx("img",{src:"/images/gcash-qr.webp",alt:"Donation QR Code",className:"mx-auto w-48 h-48 mb-4"}),e.jsx("button",{onClick:h,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition",children:"Continue to Print"})]})})]})},J=({subjectName:s,part:t,onStart:d})=>e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full text-center text-gray-900",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Welcome to ",s," Part ",t]}),e.jsxs("p",{className:"mb-4",children:["You are about to start ",e.jsxs("strong",{children:["Part ",t]})," of ",e.jsx("strong",{children:s}),". Aim to score at least ",e.jsx("strong",{children:"80%"})," to unlock the next part!"]}),e.jsx("p",{className:"italic mb-6",children:"Stay focused and do your best. Youâ€™ve got this! ðŸ’ª"}),e.jsx("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Start Quiz"})]})}),Y=Q.memo(J),L=s=>[...s].sort(()=>Math.random()-.5),H=({questions:s,subjectId:t,subjectName:d,part:l,examId:o,seo:x})=>{const[b,m]=n.useState(!0),[a,u]=n.useState(()=>L(s)),[h,r]=n.useState(0),[f,g]=n.useState(null),[w,N]=n.useState(0),[k,C]=n.useState([]),[y,P]=n.useState(!1),[j,R]=n.useState(0),p=n.useRef(null);n.useEffect(()=>(p.current=window.setInterval(()=>R(i=>i+1),1e3),()=>{p.current&&window.clearInterval(p.current)}),[]),n.useEffect(()=>{y&&p.current&&window.clearInterval(p.current)},[y]);const E=n.useCallback(i=>{g(i);const c=a[h];i===c.answer&&N(S=>S+1),C(S=>{const $=[...S,{questionId:c.id,question:c.question,choices:c.choices,selected:i,correct:c.answer,explanation:c.explanation}],M=`prc_progress_${o}_${t}_${l}`;return window.localStorage.setItem(M,JSON.stringify({answered:$.length,total:a.length})),$})},[h,a,o,t,l]),q=()=>{if(h+1<a.length)r(i=>i+1),g(null);else{const i=`prc_unlocked_${o}_${t}`,c=JSON.parse(window.localStorage.getItem(i)||"[]");c.includes(l)||(c.push(l),window.localStorage.setItem(i,JSON.stringify(c))),P(!0)}},v=Math.round(w/a.length*100),_=v>=80,A=[{label:"Home",href:"/"},{label:d,href:`/exams/${o}/subjects/${t}/parts`},{label:`Part ${l}`}];return e.jsxs(O,{children:[e.jsxs(T,{children:[e.jsx("title",{children:x.title}),e.jsx("meta",{name:"description",content:x.description}),e.jsx("link",{rel:"canonical",href:x.canonical})]}),b?e.jsx(Y,{subjectName:d,part:l,onStart:()=>m(!1)}):y?e.jsx("div",{className:"max-w-4xl mx-auto p-6",children:e.jsx(F,{score:w,total:a.length,percentage:v,formatElapsedTime:`${Math.floor(j/60)}m ${j%60}s`,passed:_,onRetake:()=>window.location.reload(),onNextPart:()=>I.visit(`/exams/${o}/subjects/${t}/parts/${l+1}/questions`),userAnswers:k})}):e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsx(z,{items:A}),e.jsx(D,{currentQuestion:a[h],selectedChoice:f,onChoiceClick:E,onNext:q,questionNumber:h+1,totalQuestions:a.length,formatElapsedTime:`${Math.floor(j/60)}m ${j%60}s`})]})]})};export{H as default};
